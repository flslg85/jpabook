## 연관관계 매핑 기초

### 단방향 연관관계

#### 다대일(N:1)

**예제**

* 회원과 팀이 있다
* 회원은 하나의 팀에만 소속될 수 있다
* 회원과 팀은 다대일 관계다
* ![alt tag](./img/pic_5_1.png)
  
---

**객체 연관관계**

* 회원 객체는 Member.team 필드(멤버 변수)로 팀 객체와 연관관계를 맺음
* 회원 객체와 팀 객체는 **단방향 관계**다
  * 회원은 member.getTeam()으로 조회 가능하지만 팀은 member 에 접근하는 필드는 없음

**테이블 연관관계**

* 회원 테이블은 TEAM_ID 외래 키로 테이블과 연관관계를 맺음
* 회원 테이블과 팀 테이블은 **양방향 관계**다
  * 회원 테이블의 TEAM_ID 외래 키를 통해서 회원과 팀을 조인할 수 있고 반대로 팀과 회원도 조인할 수 있음
  * MEMBER JOIN TEAM / TEAM JOIN MEMBER 둘다 가능

**객체 연관관계와 테이블 연견관계의 가장 큰 차이**

* 참조를 통한 연관관계는 언제나 단방향이다. 
  객체간에 연관관계를 양방향으로 만들고 싶으면 반대쪽에도 필드를 추가해서 참조를 보관해야 한다. 
  즉 연관관계를 하나 더 만들어야 함
  양쪽에서 서로 참조하는 것을 양방향 연관관계라 하지만 정확하게 이야기하면 서로 다른 단방향 관계 2개다

---

**객체 그래프 탐색**

* 객체는 참조를 사용해서 연관관계를 탐색하는데 이것을 객체 그래프 탐색이라 함

---

* 실제 코드로 만들어진 UML

  ![alt tag](./img/pic_5_2_uml.png)